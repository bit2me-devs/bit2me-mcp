# Pre-push hook: Run heavier checks before pushing to remote
# These checks take longer but ensure code quality before sharing

echo "ğŸ”¨ Running pre-push checks..."

# 1. Verify TypeScript types (without emitting)
echo "ğŸ” Checking TypeScript types..."
npm run typecheck || exit 1

# 2. Verify TypeScript compilation
echo "ğŸ“¦ Building project..."
npm run build || exit 1

# 3. Run full test suite
echo "ğŸ§ª Running full test suite..."
npm test || exit 1

# 4. Security audit (production dependencies only)
echo "ğŸ”’ Running security audit..."
npm audit --audit-level=high --omit=dev || exit 1

echo "âœ… All pre-push checks passed!"
